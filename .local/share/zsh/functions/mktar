# Create compressed tarball by the same name as the original file; optionally,
# trash the original file when done

# Before proceeding, check that arguments were passed
if [[ ! $* ]]; then
    echo 'Error: argument required' >&2
    return 1
fi

# Check for option
if [[ $1 == '--trash' || $1 == '-t' ]]; then
    topt=1
    shift
fi

for file in $*; do
    tar -czf ${file}.tar.gz $file
done

# If option was passed, trash files
(( topt == 1 )) && trash $*
